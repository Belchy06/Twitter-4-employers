{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Will\\\\Desktop\\\\Twitter-4-employers\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { ADD_POST, LOADING_POSTS, GET_POSTS, LIKE_POST, UNLIKE_POST } from '../constants';\nimport update from 'react-addons-update';\nconst initialState = {\n  list: [],\n  loading: false\n};\nexport default function (state = initialState, action) {\n  console.log(action);\n  console.log(state);\n\n  switch (action.type) {\n    case ADD_POST:\n      return _objectSpread({}, state, {\n        list: [action.payload, ...state.list]\n      });\n\n    case LOADING_POSTS:\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case GET_POSTS:\n      return _objectSpread({}, state, {\n        loading: false,\n        list: action.payload\n      });\n\n    case LIKE_POST:\n      let index = state.list.findIndex(o => o._id === action.payload.postId);\n      return update(state, {\n        list: {\n          [index]: {\n            likes: [action.payload.userId, ...state.list[index].likes]\n          }\n        }\n      });\n\n    case UNLIKE_POST:\n      return _objectSpread({}, state);\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/Will/Desktop/Twitter-4-employers/client/src/reducers/postReducer.js"],"names":["ADD_POST","LOADING_POSTS","GET_POSTS","LIKE_POST","UNLIKE_POST","update","initialState","list","loading","state","action","console","log","type","payload","index","findIndex","o","_id","postId","likes","userId"],"mappings":";AAAA,SACEA,QADF,EAEEC,aAFF,EAGEC,SAHF,EAIEC,SAJF,EAKEC,WALF,QAMO,cANP;AAOA,OAAOC,MAAP,MAAmB,qBAAnB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,EADa;AAEnBC,EAAAA,OAAO,EAAE;AAFU,CAArB;AAKA,eAAe,UAAWC,KAAK,GAAGH,YAAnB,EAAiCI,MAAjC,EAA0C;AACvDC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;;AACA,UAAOC,MAAM,CAACG,IAAd;AACE,SAAKb,QAAL;AACE,+BACKS,KADL;AAEEF,QAAAA,IAAI,EAAE,CAACG,MAAM,CAACI,OAAR,EAAiB,GAAGL,KAAK,CAACF,IAA1B;AAFR;;AAIF,SAAKN,aAAL;AACE,+BACKQ,KADL;AAEED,QAAAA,OAAO,EAAE;AAFX;;AAIF,SAAKN,SAAL;AACE,+BACKO,KADL;AAEED,QAAAA,OAAO,EAAE,KAFX;AAGED,QAAAA,IAAI,EAAEG,MAAM,CAACI;AAHf;;AAKF,SAAKX,SAAL;AACE,UAAIY,KAAK,GAAGN,KAAK,CAACF,IAAN,CAAWS,SAAX,CAAqBC,CAAC,IAAIA,CAAC,CAACC,GAAF,KAAUR,MAAM,CAACI,OAAP,CAAeK,MAAnD,CAAZ;AACA,aAAOd,MAAM,CAACI,KAAD,EAAQ;AACnBF,QAAAA,IAAI,EAAE;AACJ,WAACQ,KAAD,GAAS;AACPK,YAAAA,KAAK,EAAE,CAACV,MAAM,CAACI,OAAP,CAAeO,MAAhB,EAAwB,GAAGZ,KAAK,CAACF,IAAN,CAAWQ,KAAX,EAAkBK,KAA7C;AADA;AADL;AADa,OAAR,CAAb;;AAOF,SAAKhB,WAAL;AACE,+BACKK,KADL;;AAGF;AACE,aAAOA,KAAP;AA/BJ;AAiCD","sourcesContent":["import { \r\n  ADD_POST,\r\n  LOADING_POSTS,\r\n  GET_POSTS,\r\n  LIKE_POST,\r\n  UNLIKE_POST\r\n} from '../constants'\r\nimport update from 'react-addons-update';\r\n\r\nconst initialState = {\r\n  list: [],\r\n  loading: false,\r\n}\r\n\r\nexport default function ( state = initialState, action ) {\r\n  console.log(action)\r\n  console.log(state)\r\n  switch(action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        list: [action.payload, ...state.list]\r\n      }\r\n    case LOADING_POSTS:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case GET_POSTS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        list: action.payload\r\n      }\r\n    case LIKE_POST:\r\n      let index = state.list.findIndex(o => o._id === action.payload.postId)\r\n      return update(state, {\r\n        list: {\r\n          [index]: {\r\n            likes: [action.payload.userId, ...state.list[index].likes]\r\n          }\r\n        }\r\n      })\r\n    case UNLIKE_POST:\r\n      return {\r\n        ...state\r\n      }\r\n    default: \r\n      return state\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}