{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Will\\\\Desktop\\\\Twitter-4-employers\\\\client\\\\src\\\\components\\\\Posts\\\\Post.js\";\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Link from '@material-ui/core/Link';\nimport Moment from 'moment';\nimport { connect } from 'react-redux';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport IconButton from '@material-ui/core/IconButton';\nimport FavouriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport FavouriteIcon from '@material-ui/icons/Favorite';\nimport Button from '@material-ui/core/Button';\nimport { likePost, unlikePost } from '../../actions/postActions';\nconst styles = {\n  paper: {\n    padding: 10,\n    display: 'flex',\n    marginTop: 0,\n    backgroundColor: '#15202b',\n    color: '#fff',\n    borderRadius: 0,\n    border: '1px solid #8899a6'\n  },\n  avatar: {\n    minWidth: 10,\n    margin: '4px 10px 4px 4px'\n  },\n  login: {\n    marginBottom: 5\n  },\n  time: {\n    marginTop: 5,\n    color: '#8899a6',\n    fontSize: 14,\n    paddingLeft: 5,\n    fontWeight: 400\n  },\n  handle: {\n    color: '#8899a6',\n    paddingLeft: 5,\n    display: 'inline-block',\n    '&:hover': {\n      textDecoration: 'none'\n    },\n    fontSize: 14,\n    fontWeight: 400\n  },\n  userInfo: {\n    marginTop: 5,\n    marginBottom: 5,\n    color: '#fff'\n  },\n  like: {\n    padding: 5,\n    color: '#8899a6',\n    '&:hover': {\n      color: '#e0245e'\n    }\n  },\n  likes: {\n    fontSize: 12,\n    fontWeight: 'bold',\n    paddingLeft: 5\n  },\n  heart: {\n    fontSize: 18\n  },\n  liked: {\n    fontSize: 18,\n    color: '#e0245e'\n  },\n  link: {\n    fontWeight: '700'\n  }\n};\n\nfunction timeSince(str) {\n  var date = Moment(str);\n  var seconds = Math.floor((new Date() - date) / 1000);\n  var intervalType;\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval >= 1) {\n    intervalType = 'year';\n  } else {\n    interval = Math.floor(seconds / 2592000);\n\n    if (interval >= 1) {\n      intervalType = 'month';\n    } else {\n      interval = Math.floor(seconds / 86400);\n\n      if (interval >= 1) {\n        intervalType = 'day';\n      } else {\n        interval = Math.floor(seconds / 3600);\n\n        if (interval >= 1) {\n          intervalType = \"hour\";\n        } else {\n          interval = Math.floor(seconds / 60);\n\n          if (interval >= 1) {\n            intervalType = \"minute\";\n          } else {\n            interval = seconds;\n            intervalType = \"second\";\n          }\n        }\n      }\n    }\n  }\n\n  if (interval > 1 || interval === 0) {\n    intervalType += 's';\n  }\n\n  return interval + ' ' + intervalType;\n}\n\n;\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.handleLike = this.handleLike.bind(this);\n    this.handleUnlike = this.handleUnlike.bind(this);\n  }\n\n  handleLike() {\n    this.props.likePost(this.props.post._id);\n  }\n\n  handleUnlike() {\n    this.props.unlikePost(this.props.post._id);\n  }\n\n  render() {\n    const _this$props = this.props,\n          classes = _this$props.classes,\n          post = _this$props.post,\n          user = _this$props.user,\n          auth = _this$props.auth;\n    let socialIcons;\n\n    if (auth.isAuthenticated) {\n      if (post && user) {\n        if (post.likes.indexOf(user.id) === -1) {\n          //Like post\n          socialIcons = React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141\n            },\n            __self: this\n          }, React.createElement(IconButton, {\n            className: classes.like,\n            onClick: this.handleLike,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }, React.createElement(FavouriteBorderIcon, {\n            className: classes.heart,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            className: classes.likes,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, post.likes.length)));\n        } else {\n          //Unlike post\n          socialIcons = React.createElement(IconButton, {\n            className: classes.like,\n            onClick: this.handleUnlike,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154\n            },\n            __self: this\n          }, React.createElement(FavouriteIcon, {\n            className: classes.liked,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            className: classes.likes,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156\n            },\n            __self: this\n          }, post.likes.length));\n        }\n      }\n    }\n\n    if (typeof post !== \"undefined\") {\n      return React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          backgroundColor: `#${post.user.id.slice(post.user.id.length - 3)}`\n        },\n        className: classes.avatar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: classes.userInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Link, {\n        href: `/profile/${post.user.id}`,\n        style: {\n          color: '#fff'\n        },\n        className: classes.link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, post.user.login, React.createElement(\"span\", {\n        className: classes.handle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"@\", post.user.handle)), React.createElement(\"span\", {\n        className: classes.time,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"\\xB7  \", timeSince(post.createdAt), \" ago\")), post.text, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, socialIcons)));\n    } else {\n      return '';\n    }\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  likePost,\n  unlikePost\n})(withStyles(styles)(Post));","map":{"version":3,"sources":["C:/Users/Will/Desktop/Twitter-4-employers/client/src/components/Posts/Post.js"],"names":["React","Component","withStyles","Paper","Link","Moment","connect","SvgIcon","IconButton","FavouriteBorderIcon","FavouriteIcon","Button","likePost","unlikePost","styles","paper","padding","display","marginTop","backgroundColor","color","borderRadius","border","avatar","minWidth","margin","login","marginBottom","time","fontSize","paddingLeft","fontWeight","handle","textDecoration","userInfo","like","likes","heart","liked","link","timeSince","str","date","seconds","Math","floor","Date","intervalType","interval","Post","constructor","props","handleLike","bind","handleUnlike","post","_id","render","classes","user","auth","socialIcons","isAuthenticated","indexOf","id","length","slice","createdAt","text","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Link from '@material-ui/core/Link'\r\nimport Moment from 'moment'\r\nimport { connect } from 'react-redux'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport FavouriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavouriteIcon from '@material-ui/icons/Favorite';\r\nimport Button from '@material-ui/core/Button'\r\nimport { likePost, unlikePost } from '../../actions/postActions'\r\n\r\nconst styles = {\r\n  paper: {\r\n\t\tpadding: 10,\r\n\t\tdisplay: 'flex',\r\n    marginTop: 0,\r\n    backgroundColor: '#15202b',\r\n    color: '#fff',\r\n    borderRadius: 0,\r\n    border: '1px solid #8899a6',\r\n\t},\r\n\tavatar: {\r\n\t\tminWidth: 10,\r\n\t\tmargin: '4px 10px 4px 4px'\r\n\t},\r\n\tlogin: {\r\n\t\tmarginBottom: 5\r\n\t},\r\n\ttime: {\r\n\t\tmarginTop: 5,\r\n\t\tcolor: '#8899a6',\r\n    fontSize: 14,\r\n    paddingLeft: 5,\r\n    fontWeight: 400\r\n  },\r\n  handle: {\r\n    color: '#8899a6',\r\n    paddingLeft: 5,\r\n    display: 'inline-block',\r\n    '&:hover': {\r\n      textDecoration: 'none'\r\n    },\r\n    fontSize: 14,\r\n    fontWeight: 400\r\n  },\r\n  userInfo: {\r\n    marginTop: 5,\r\n    marginBottom: 5,\r\n    color: '#fff'\r\n  },\r\n  like: {\r\n    padding: 5,\r\n    color: '#8899a6',\r\n    '&:hover': {\r\n      color: '#e0245e'\r\n    }\r\n  },\r\n  likes: {\r\n    fontSize: 12,\r\n    fontWeight: 'bold',\r\n    paddingLeft: 5\r\n  },\r\n  heart: {\r\n    fontSize: 18,\r\n  },\r\n  liked: {\r\n    fontSize: 18,\r\n    color: '#e0245e'\r\n  },\r\n  link: {\r\n    fontWeight: '700',\r\n  }\r\n}\r\n\r\nfunction timeSince(str) {\r\n  var date = Moment(str)\r\n  var seconds = Math.floor((new Date() - date) / 1000);\r\n  var intervalType;\r\n\r\n  var interval = Math.floor(seconds / 31536000);\r\n  if (interval >= 1) {\r\n    intervalType = 'year';\r\n  } else {\r\n    interval = Math.floor(seconds / 2592000);\r\n    if (interval >= 1) {\r\n      intervalType = 'month';\r\n    } else {\r\n      interval = Math.floor(seconds / 86400);\r\n      if (interval >= 1) {\r\n        intervalType = 'day';\r\n      } else {\r\n        interval = Math.floor(seconds / 3600);\r\n        if (interval >= 1) {\r\n          intervalType = \"hour\";\r\n        } else {\r\n          interval = Math.floor(seconds / 60);\r\n          if (interval >= 1) {\r\n            intervalType = \"minute\";\r\n          } else {\r\n            interval = seconds;\r\n            intervalType = \"second\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  if (interval > 1 || interval === 0) {\r\n    intervalType += 's';\r\n  }\r\n\r\n  return interval + ' ' + intervalType;\r\n};\r\n\r\nclass Post extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.handleLike = this.handleLike.bind(this)\r\n    this.handleUnlike = this.handleUnlike.bind(this)\r\n  }\r\n\r\n  handleLike() {\r\n    this.props.likePost(this.props.post._id) \r\n  }\r\n\r\n  handleUnlike() {\r\n    this.props.unlikePost(this.props.post._id) \r\n  }\r\n\r\n  render() {\r\n    const { classes, post, user, auth } = this.props\r\n    let socialIcons\r\n    if(auth.isAuthenticated) {\r\n      if(post && user) {\r\n        if(post.likes.indexOf(user.id) === -1) {\r\n          //Like post\r\n          socialIcons = (\r\n            <span>      \r\n              <IconButton className = { classes.like } onClick = { this.handleLike }>\r\n                <FavouriteBorderIcon className = { classes.heart }/>\r\n                <span className = { classes.likes }>\r\n                  { post.likes.length }\r\n                </span>\r\n              </IconButton>\r\n              \r\n            </span>\r\n          )\r\n        } else {\r\n          //Unlike post\r\n          socialIcons = (\r\n            <IconButton className = { classes.like } onClick = { this.handleUnlike }>\r\n              <FavouriteIcon className = { classes.liked }/>\r\n              <span className = { classes.likes }>\r\n                { post.likes.length }\r\n              </span>\r\n            </IconButton>\r\n          )\r\n        }\r\n      }\r\n    }\r\n      \r\n      \r\n    if(typeof post !== \"undefined\") {\r\n      return (\r\n        <Paper className = { classes.paper }>\r\n          <div\r\n            style={{ backgroundColor: `#${post.user.id.slice(post.user.id.length - 3)}` }}\r\n            className={ classes.avatar }\r\n          />\r\n          <div> \r\n            <h3 className = { classes.userInfo }>\r\n              <Link href = { `/profile/${post.user.id}` } style = {{ color: '#fff' }}\r\n              className = { classes.link }> \r\n                { post.user.login }\r\n                <span className = { classes.handle }>\r\n                  @{ post.user.handle }\r\n                </span>\r\n              </Link>\r\n              <span className = { classes.time} >\r\n                ·  { timeSince( post.createdAt )} ago\r\n              </span>\r\n            </h3>\r\n            { post.text }\r\n            <div>\r\n              { socialIcons }\r\n            </div>\r\n          </div>\r\n        </Paper>\r\n      )\r\n    } else {\r\n      return(\r\n        ''\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n  auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps, { likePost, unlikePost })(withStyles(styles)(Post))"]},"metadata":{},"sourceType":"module"}